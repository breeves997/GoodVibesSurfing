<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, shrink-to-fit=no, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <link rel="stylesheet" href="css/simple-sidebar.css">
    <title>Service Fabric Samplers</title>

</head>
<body> 
    <div id="wrapper">

        <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav nav-pills nav-stacked" id="menu">
                <li>
                    <a id="menu-toggle-2" href="#"><span class="fa-stack fa-lg pull-left"><i class="fa fa-th-large fa-stack-1x"></i></span>Toggle</a>
                </li>
 
                <li class="active">
                    <a href="#"><span class="fa-stack fa-lg pull-left"><i class="fa fa-dashboard fa-stack-1x "></i></span> Overview</a>
                       <ul class="nav-pills nav-stacked" style="list-style-type:none;">
                        <li><a href="#">link1</a></li>
                        <li><a href="#">link2</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#"><span class="fa-stack fa-lg pull-left"><i class="fa  fa-cloud-download fa-stack-1x "></i></span>Service health</a>
                    <ul class="nav-pills nav-stacked" style="list-style-type:none;">
                        <li><a href="/health/failure.html"><span class="fa-stack fa-lg pull-left"><i class="fa fa-flag fa-stack-1x "></i></span>Service failure</a></li>
                        <li><a href="#"><span class="fa-stack fa-lg pull-left"><i class="fa fa-flag fa-stack-1x "></i></span>link2</a></li>
 
                    </ul>
                </li>
                <li>
                    <a href="#"><span class="fa-stack fa-lg pull-left"><i class="fa fa-flag fa-stack-1x "></i></span>Meh</a>
                </li>
                <li>
                    <a href="#"> <span class="fa-stack fa-lg pull-left"><i class="fa fa-database fa-stack-1x "></i></span>Data</a>
                    <ul class="nav-pills nav-stacked" style="list-style-type:none;">
                        <li><a href="/data/valet.html"><span class="fa-stack fa-lg pull-left"><i class="fa fa-flag fa-stack-1x "></i></span>Blob valet key</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#"><span class="fa-stack fa-lg pull-left"><i class="fa fa-bolt fa-stack-1x "></i></span>Events</a>
                </li>
                <li>
                    <a href="#"><span class="fa-stack fa-lg pull-left"><i class="fa fa-wrench fa-stack-1x "></i></span>Service patterns</a>
                </li>
                <li>
                    <a href="#"><span class="fa-stack fa-lg pull-left"><i class="fa fa-bug fa-stack-1x "></i></span>Bugs and code</a>
                </li>
            </ul>
        </div><!-- /#sidebar-wrapper -->

        <!-- Page Content -->
        <div id="page-content-wrapper">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <h1>Welcome to the GoodVibes Service Fabric Test App</h1>
                        <p>This application front end acts as a proxy to observe and trigger various events and responses in the hosted service fabric application.</p>
                        <p>Be sure to include a description of the functionality and the location in the code on the front end so people can easily find samples.</p>
                        <h2>Happy Surfing!</h2>
                    </div>
                </div>
                <hr />
                <div class="row">
                    <div class="col-lg-12">
                        <h2>Today's Snow Report in SnowTopia</h2>
                        <p>Here are some very basic data observations being generated by the stateful service GetSnowConditions. It maintains an 
                            <a href="https://docs.microsoft.com/en-us/dotnet/api/microsoft.servicefabric.data.collections.ireliabledictionary-2">IReliableDictionary</a> 
                        which generates the new snowfall and current snowpack in SnowTopia. The dictionary is maintained in GoodVibesSurfing.GetSnowConditions' RunAsync method.<p>
                        <br />
                         <b>How does it work bro??</b> 
                        <br/>
                        <p>The api controller SnowConditionsController in the asp dotnet core app creates a service proxy from the GetSnowConditions.Interfaces project. The service proxy
                        allows the web controller to access the stateful service GetSnowConditions. The stateful service and client's proxy both implement the ISnowConditions interface, which allows the client (WebApi2) 
                        to access the corresponding method on the stateful service via the client proxy. The client proxy is currently implemeted in the default Get request for SnowConditionsController</p>
                    </div>
                </div>
                <div class="row">
                    <table class="table table-hover table-striped">
                       <tr>
                            <th>Latest Snow</th>
                            <th>Current snowpack</th>
                       </tr> 
                        <tr>
                            <td id="newSnow"></td>
                            <td id="snowpack"></td>
                        </tr>
                    </table>
                </div>
                <div class="row">
                    <div class="well">
                        <p>The buttons below manipulate and report on the state of the stateful SnowConditions service itself. By hitting "turn service off",
                        we simulate a timeout in the service (executed by the SnowServiceController). The controller method GET on the SnowConditionsController 
                        has a retry pattern injected into in, and so will attempt to retry the GET snowconditions call several times before finally calling it
                        quits (the operation will only retry on transient failures such as timeouts)</p>
                        <br />
                        <p>The retry pattern itself can be found in the $/CloudUtilities/FaultTolerance/BasicRetryPattern. The code should be straightforward, but it
                        accepts a Func as an argument, and executes the delegate within a separate async task</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="btn btn-lg">
                            <a id="turnOffSnowService" href="#">Turn Service Off</a>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="btn btn-lg">
                            <a id="getSnowServiceStatus" href="#">Get service status</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /#page-content-wrapper -->

    </div>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="vendor/sidebar-menu.js"></script>
    <script src="js/snow-conditions.js"></script>
    <script>
    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
    </script>
</body>
</html>


